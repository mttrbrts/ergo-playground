let examples =[
  {
    'name': 'AcceptanceOfDelivery',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.acceptanceofdelivery\n\nimport org.accordproject.common.*\nimport org.accordproject.acceptanceofdelivery.*\n\ncontract AcceptanceOfDelivery over TemplateModel {\n  clause acceptanceofdelivery(request : InspectDeliverable) : InspectionResponse throws Error {\n    define variable received = request.deliverableReceivedAt;\n    enforce momentIsBefore(received,now()) else\n      throw new Error{ error : "Transaction time is before the deliverable date." }\n    ;\n\n    define variable status =\n      if momentIsAfter(now(), momentAdd(received, momentDuration(contract.businessDays, "day")))\n      then "OUTSIDE_INSPECTION_PERIOD"\n      else if request.inspectionPassed\n      then "PASSED_TESTING"\n      else "FAILED_TESTING"\n    ;\n    return new InspectionResponse{\n      status : status,\n      shipper : contract.shipper,   // This should be a relationship\n      receiver : contract.receiver  // This should be a relationship\n    }\n  }\n}\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.acceptanceofdelivery.TemplateModel","shipper":"Party A","receiver":"Party B","deliverable":"Widgets","businessDays":10,"attachment":"Attachment X"}',
    'request': '{\n    "$class":"org.accordproject.acceptanceofdelivery.InspectDeliverable",\n    "deliverableReceivedAt": "January 1, 2018 16:34:00",\n    "inspectionPassed": true\n}',
    'state': '{\n    "$class": "org.accordproject.common.ContractState",\n    "stateId": "org.accordproject.common.ContractState#1"\n}\n',
    'contractname': 'AcceptanceOfDelivery'
  },
  {
    'name': 'CopyrightLicense',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.copyrightlicense\n\nimport org.accordproject.copyrightlicense.*\n\ncontract CopyrightLicense over TemplateModel {\n   // Clause for volume discount\n  clause paymentClause(request : PaymentRequest) : PayOut {\n	  return new PayOut{ amount: clause.amount }\n  }\n}\n\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.copyrightlicense.TemplateModel","effectiveDate":"2018-01-01","licenseeName":"Me","licenseeState":"NY","licenseeEntityType":"Company","licenseeAddress":"1 Broadway","licensorName":"Myself","licensorState":"NY","licensorEntityType":"Company","licensorAddress":"2 Broadway","territory":"United States","purposeDescription":"stuff","workDescription":"other stuff","paymentClause":{"$class":"org.accordproject.copyrightlicense.PaymentClauseModel","clauseId":"e1efc58a-fd54-4ca3-a4a0-9f2e49292a73","amountText":"one hundred","amount":100,"paymentProcedure":"bank transfer"}}',
    'request': '{\n    "$class":"org.accordproject.copyrightlicense.PaymentRequest"\n}',
    'state': '{\n    "$class": "org.accordproject.common.ContractState",\n    "stateId": "org.accordproject.common.ContractState#1"\n}\n',
    'contractname': 'CopyrightLicense'
  },
  {
    'name': 'DemandForecast',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.demandforecast\n\nimport org.accordproject.demandforecast.*\n\ndefine function isLastDayOfQuarter(timestamp : DateTime) : Boolean {\n    // Keep always true for testing\n    return true\n}\n\ncontract DemandForecast over TemplateModel {\n	clause demandforecast(request : ForecastRequest) : BindingResponse {\n//    enforce momentIsBefore(contract.effectiveDate,now())\n//		else throw new Error{ message: "Forecast was received before the effective date" };\n\n    enforce isLastDayOfQuarter(now())\n		else throw new Error{ message: "Forecast was not received on last day of quarter" };\n    \n	  return new BindingResponse{\n			requiredPurchase : request.supplyForecast * (contract.minimumPercentage / 100.0),\n			year : momentYear(now()),\n			quarter : momentQuarter(now())\n		}\n	}\n}\n\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.demandforecast.TemplateModel","purchaser":"PETER","supplier":"DAN","effectiveDate":"2018-04-02","minimumPercentage":85}',
    'request': '{\n    "$class": "org.accordproject.demandforecast.ForecastRequest",\n    "supplyForecast": 1200.0\n}\n',
    'state': '{\n    "$class": "org.accordproject.common.ContractState",\n    "stateId": "org.accordproject.common.ContractState#1"\n}\n',
    'contractname': 'DemandForecast'
  },
  {
    'name': 'HelloWorld',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.helloworld\n\ncontract HelloWorld over TemplateModel {\n  // Simple Clause\n  clause helloworld(request : Request) : Response {\n    return new Response{ output: "Hello " ++ contract.name ++ " " ++ request.input }\n  }\n}\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.helloworld.TemplateModel","name":"Fred Blogs"}',
    'request': '{\n    "$class": "org.accordproject.helloworld.Request",\n    "input": "Accord Project"\n}\n',
    'state': '{\n    "$class": "org.accordproject.common.ContractState",\n    "stateId": "org.accordproject.common.ContractState#1"\n}\n',
    'contractname': 'HelloWorld'
  },
  {
    'name': 'HelloWorldState',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.helloworldstate\n\nimport org.accordproject.helloworldstate.*\n\ncontract HelloWorldState over TemplateModel {\n  // Simple Clause\n  clause helloworldstate(request : Request) : Response {\n		set state new HelloWorldState{\n			stateId: "org.accordproject.helloworldstate.HelloWorldState#" ++ state.counter,\n			counter: state.counter + 1.0\n		};\n    return new Response{\n			output: "Hello " ++ contract.name ++ " " ++ request.input ++ "(" ++ state.counter ++ ")"\n		}\n  }\n}\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.helloworldstate.TemplateModel","name":"Fred Blogs"}',
    'request': '{\n    "$class": "org.accordproject.helloworldstate.Request",\n    "input": "Accord Project"\n}\n',
    'state': '{\n    "$class": "org.accordproject.helloworldstate.HelloWorldState",\n    "stateId": "org.accordproject.helloworldstate.HelloWorldState#0",\n		"counter" : 0\n}\n',
    'contractname': 'HelloWorldState'
  },
  {
    'name': 'InstallmentSale',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.installmentsale\n\ncontract InstallmentSale over TemplateModel {\n  clause PayInstallment(request : Installment) : Balance {\n    enforce (state.status = "WaitingForFirstDayOfNextMonth"); // Make sure this is only called in the right state\n    enforce (contract.MIN_PAYMENT <= state.balance_remaining) and (state.next_payment_month < 23);\n    enforce (contract.MIN_PAYMENT <= request.amount); // Underpaying is forbidden\n    enforce (request.amount <= state.balance_remaining); // overpaying is forbidden. this is NOT checked statically.\n\n    define variable before_interest = state.balance_remaining - request.amount;\n    define variable balance = before_interest * (1.0 + contract.INTEREST_RATE/100.00);\n		define variable total_paid = state.total_paid + request.amount;\n\n    set state new InstallmentSaleState{\n			stateId: "1",\n      status: "WaitingForFirstDayOfNextMonth",\n      balance_remaining: balance,\n			total_paid: total_paid,\n      next_payment_month: state.next_payment_month + 1.0\n    };\n		emit new PaymentObligation{\n			from: contract.BUYER,\n			to: contract.SELLER,\n			amount: request.amount\n		};\n    return new Balance{\n      balance: balance,\n			total_paid: total_paid\n    }\n  }\n  clause PayLastInstallment(request : ClosingPayment) : Balance {\n    enforce (request.amount = state.balance_remaining + contract.DUE_AT_CLOSING);\n    define variable balance = state.balance_remaining + contract.DUE_AT_CLOSING - request.amount;\n		define variable total_paid = state.total_paid + request.amount;\n    set state new InstallmentSaleState{\n			stateId: "1",\n      status: "Fulfilled",\n      balance_remaining: balance,\n			total_paid: total_paid,\n      next_payment_month: 0.0 // ???\n    };\n		emit new PaymentObligation{\n			from: contract.BUYER,\n			to: contract.SELLER,\n			amount: request.amount\n		};\n    return new Balance{\n      balance: balance,\n			total_paid: total_paid\n    }\n  }\n}\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.installmentsale.TemplateModel","BUYER":"Dan","SELLER":"Ned","INITIAL_DUE":10000,"INTEREST_RATE":1.5,"TOTAL_DUE_BEFORE_CLOSING":9500,"MIN_PAYMENT":500,"DUE_AT_CLOSING":500}',
    'request': '{\n    "$class": "org.accordproject.installmentsale.Installment",\n    "amount": 2500.00\n}',
    'state': '{ "$class": "org.accordproject.installmentsale.InstallmentSaleState",\n  "stateId" : "org.accordproject.installmentsale.InstallmentSaleState#1",\n  "status" : "WaitingForFirstDayOfNextMonth",\n  "balance_remaining" : 10000.00,\n	"total_paid" : 0.00,\n  "next_payment_month" : 3 }\n',
    'contractname': 'InstallmentSale'
  },
  {
    'name': 'LateDeliveryAndPenalty',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.latedeliveryandpenalty\n\nimport org.accordproject.common.*\nimport org.accordproject.latedeliveryandpenalty.*\n\n// Declare a contract over a template model\ncontract LateDeliveryAndPenalty over TemplateModel {\n  // Clause checking for late delivery and calculating penalty\n  clause latedeliveryandpenalty(request : LateDeliveryAndPenaltyRequest) : LateDeliveryAndPenaltyResponse throws Error {\n    // Guard against calling late delivery clause too early\n    define variable agreed = request.agreedDelivery;\n    enforce momentIsBefore(agreed,now()) else\n    throw new Error{ message : "Cannot exercise late delivery before delivery date" }\n    ;\n    // Guard against force majeure\n    enforce !contract.forceMajeure or !request.forceMajeure else\n    return new LateDeliveryAndPenaltyResponse{\n      penalty: 0.0,\n      buyerMayTerminate: true\n    }\n    ;\n\n    // Calculate the time difference between current date and agreed upon date\n    define variable diff = momentDiff(now,agreed);\n    // Penalty formula\n    define variable penalty =\n      (diff / contract.penaltyDuration.amount) * contract.penaltyPercentage/100.0 * request.goodsValue;\n    // Penalty may be capped\n    define variable capped = min([penalty, contract.capPercentage/100.0 * request.goodsValue]);\n    // Return the response with the penalty and termination determination\n    return new LateDeliveryAndPenaltyResponse{\n      penalty: capped,\n      buyerMayTerminate: diff > contract.termination.amount\n    }\n  }\n}\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.latedeliveryandpenalty.TemplateModel","forceMajeure":true,"penaltyDuration":{"$class":"org.accordproject.base.Duration","amount":2,"unit":"DAY"},"penaltyPercentage":10.5,"capPercentage":55,"termination":{"$class":"org.accordproject.base.Duration","amount":15,"unit":"DAY"},"fractionalPart":"DAY"}',
    'request': '{\n    "$class": "org.accordproject.latedeliveryandpenalty.LateDeliveryAndPenaltyRequest",\n    "forceMajeure": false,\n    "agreedDelivery": "December 17, 2017 03:24:00",\n    "deliveredAt": null,\n    "goodsValue": 200.00\n}\n',
    'state': '{\n    "$class": "org.accordproject.common.ContractState",\n    "stateId": "org.accordproject.common.ContractState#1"\n}\n',
    'contractname': 'LateDeliveryAndPenalty'
  },
  {
    'name': 'PerishableGoods',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.perishablegoods\n\nimport org.accordproject.common.*\nimport org.accordproject.perishablegoods.*\n\n// Auxiliary function calculating penalty from temperature readings\ndefine function calculateTempPenalty(minTemperature : Double,\n                                     maxTemperature : Double,\n                                     penaltyFactor : Double,\n                                     readings : sensorReading[]) : Double {\n  define variable tempReadings = foreach x in readings return x.centigrade;\n  // find the lowest temperature reading\n  define variable lowestReading = min(tempReadings);\n  // find the highest temperature reading\n  define variable highestReading = max(tempReadings);\n  if lowestReading < minTemperature\n  then return (minTemperature - lowestReading) * penaltyFactor\n  else if highestReading > maxTemperature\n  then return (highestReading - maxTemperature) * penaltyFactor\n  else return 0.0\n}\n\n// Auxiliary function calculating penalty from humidity readings\ndefine function calculateHumPenalty(minHumidity : Double,\n                                    maxHumidity : Double,\n                                    penaltyFactor : Double,\n                                    readings : sensorReading[]) : Double {\n  define variable humReadings = foreach x in readings return x.humidity;\n  // find the lowest humidity reading\n  define variable lowestReading = min(humReadings);\n  // find the highest temperature reading\n  define variable highestReading = max(humReadings);\n  if lowestReading < minHumidity\n  then return (minHumidity - lowestReading) * penaltyFactor\n  else if highestReading > maxHumidity\n  then return (highestReading - maxHumidity) * penaltyFactor\n  else return 0.0\n}\n\ncontract PerishableGoods over TemplateModel {\n  clause payout(request : ShipmentReceived) : PriceCalculation throws Error {\n    // Guard against unitCount outside the bounds specified in the clause\n    //enforce request.unitCount < contract.minUnits or request.unitCount > contract.maxUnits\n    //else throw new Error{ message : "Units received out of range for the contract." };\n\n    // Guard against requests for payout after the dueDate\n    enforce momentIsAfter(request.timestamp,contract.dueDate)\n    else return new PriceCalculation{\n      shipment : request.shipment,\n			totalPrice : 0.0,\n			penalty : 0.0,\n			late : true\n    };\n    // Guard against missing temperature readings\n    enforce count(request.shipment.sensorReadings) > 0.0\n    else throw new Error{ message : "No temperature readings received."};\n\n    // Calculates payout\n    define variable payOut = contract.unitPrice * request.unitCount;\n    // Calculates penalty if any\n    define variable penalty =\n      calculateTempPenalty(contract.minTemperature,\n                           contract.maxTemperature,\n                           contract.penaltyFactor,\n                           request.shipment.sensorReadings)\n    + calculateHumPenalty(contract.minHumidity,\n                          contract.maxHumidity,\n                          contract.penaltyFactor,\n                          request.shipment.sensorReadings);\n    // Returns a Price calculation, applying any penalities\n    define variable totalPenalty = penalty * request.unitCount;\n    return new PriceCalculation{\n      shipment : request.shipment,\n      totalPrice : max([payOut - totalPenalty, 0.0]),\n      penalty : totalPenalty,\n      late : false\n    }\n  }\n}\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.perishablegoods.contract.TemplateModel","grower":"PETER","importer":"DAN","shipment":"SHIP_001","dueDate":"2018-04-02","unitPrice":1.5,"unit":"KG","minUnits":3000,"maxUnits":3500,"product":"Grade I, Size 4, Zutano Mexican Avocados","sensorReadingFrequency":1,"duration":"HOUR","minTemperature":2,"maxTemperature":13,"minHumidity":70,"maxHumidity":90,"penaltyFactor":0.2}',
    'request': '{\n    "$class":"org.accordproject.perishablegoods.ShipmentReceived",\n    "unitCount":3000,\n    "shipment":{\n        "$class":"org.accordproject.perishablegoods.Shipment",\n        "shipmentId":"SHIP_001",\n        "sensorReadings":[\n            {\n                "$class":"org.accordproject.perishablegoods.SensorReading",\n                "centigrade":2,\n                "humidity":80,\n                "shipment":"resource:org.accordproject.perishablegoods.Shipment#SHIP_001",\n                "transactionId":"a"\n            },\n            {\n                "$class":"org.accordproject.perishablegoods.SensorReading",\n                "centigrade":5,\n                "humidity":90,\n                "shipment":"resource:org.accordproject.perishablegoods.Shipment#SHIP_001",\n                "transactionId":"b"\n            },\n            {\n                "$class":"org.accordproject.perishablegoods.SensorReading",\n                "centigrade":15,\n                "humidity":65,\n                "shipment":"resource:org.accordproject.perishablegoods.Shipment#SHIP_001",\n                "transactionId":"c"\n            }\n        ]\n    },\n    "transactionId":"99c64b8a-b3b0-408a-8ec4-7820776cd447",\n    "timestamp":"2018-02-18T11:11:41.264Z"\n}',
    'state': '{\n    "$class": "org.accordproject.common.ContractState",\n    "stateId": "org.accordproject.common.ContractState#1"\n}\n',
    'contractname': 'PerishableGoods'
  },
  {
    'name': 'Volumediscount',
    'ergo': '/*\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace org.accordproject.volumediscount\n\nimport org.accordproject.volumediscount.*\n\ncontract VolumeDiscount over TemplateModel {\n   // Clause for volume discount\n   clause volumediscount(request : VolumeDiscountRequest) : VolumeDiscountResponse {\n    if request.netAnnualChargeVolume < contract.firstVolume\n    then return new VolumeDiscountResponse{ discountRate: contract.firstRate }\n    else if request.netAnnualChargeVolume < contract.secondVolume\n    then return new VolumeDiscountResponse{ discountRate: contract.secondRate }\n    else return new VolumeDiscountResponse{ discountRate: contract.thirdRate }\n  }\n}\n',
    'models': [],
    'contract': '{"$class":"org.accordproject.volumediscount.TemplateModel","firstVolume":1,"secondVolume":10,"firstRate":3,"secondRate":2.9,"thirdRate":2.8}',
    'request': '{\n    "$class": "org.accordproject.volumediscount.VolumeDiscountRequest",\n    "netAnnualChargeVolume": 0.4\n}\n',
    'state': '{\n    "$class": "org.accordproject.common.ContractState",\n    "stateId": "org.accordproject.common.ContractState#1"\n}\n',
    'contractname': 'VolumeDiscount'
  }
];
//console.log(JSON.stringify(examples));
